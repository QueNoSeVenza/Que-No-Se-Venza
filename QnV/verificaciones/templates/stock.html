{% load static %} {% load staticfiles %} {% block nav %} {% include "nav.html" %} {% endblock %}
<html>
	<head>
		<link rel="stylesheet" href="{% static 'css/veristyle.css' %}">
		<link rel="stylesheet" href="{% static 'css/_grid.css' %}">
		<!--<link rel="stylesheet" href="{% static 'css/normalize.css' %}">-->

		<!--{{string}}<br>-->
		<style type="text/css">
			.Vencido {
				background-color: #d85656;
			}
			
			.Disponible {
				background-color: #67b767;
			}

			.Reservado {
				background-color: #eaa84f;
			}

			.Entregado {
				background-color: #8e7ffd;
			}
		</style>
	</head>
	<body>
		<div class="row">	
			<div class="buscador" id="buscador">
				<form method="POST" action="/verificacion/search">
					{% csrf_token %}
					<div class="input-field col s6">
						<input id="search" name="search1" type="text" class="validate" placeholder="Search">
						<button id="search" class="btn red accent-2 semibold" >Buscar</button>
					</div>
					<div>
						<label>Todo</label><input value="todo" type="checkbox" name="fooby" id="ck1" checked>
						<label>En Stock</label><input value="stock" type="checkbox" name="fooby" id="ck2">
						<label>No Verificado</label><input value="noVerificado" type="checkbox" name="fooby" id="ck3">
					</div>
				</form>
			</div>
			<br>
			<table class="col s12">
				<tr id="header">
					<th>ID</th>
					<th>Nombre</th>
					<th>Laboratorio</th>
					<th>Tipo</th>
					<th>Â¿Requiere receta?</th>
					<th>Fecha de vencimiento</th>
					<th>Veriificador Ingreso</th>
					<th>Verificador Egreso</th>
				</tr>

				{% for donacion in donaciones %}
				<tr class="{{donacion.stock}}">
					<td>{{donacion.id}}</td>
					<td>{{donacion.medicamento.nombre}}</td>
					<td>{{donacion.laboratorio}}</td>
					<td>{{donacion.tipo}}</td>
					<td>{{donacion.prescripcion}}</td>
					<td>{{donacion.fecha_vencimiento}}</td>
					<td>{{donacion.verificador_ingreso}}</td>
					<td>{{donacion.verificador_salida}}</td>   
				</tr>
				{% endfor %}
			</table>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
		<script type="text/javascript" src="{% static 'js/search.js' %}"></script>
	</body>
	<script>
		$("input:checkbox").on('click', function() {
			// in the handler, 'this' refers to the box clicked on
			var $box = $(this);
			if ($box.is(":checked")) {
				// the name of the box is retrieved using the .attr() method
				// as it is assumed and expected to be immutable
				var group = "input:checkbox[name='" + $box.attr("name") + "']";
				// the checked state of the group/box on the other hand will change
				// and the current value is retrieved using .prop() method
				$(group).prop("checked", false);
				$box.prop("checked", true);
			} else {
				$box.prop("checked", false);
			}
		});
	</script>
</html>